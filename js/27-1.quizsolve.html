<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="./css/reset.css">
    <link rel="stylesheet" type="text/css" href="./css/commons.css">
    <script src="./confirm-link.js"></script>
    <script type="text/javascript">
        // 자바 스크립트 코드 함수를 지우는게 아니라 oninput을 지웠을때 작동이 되느냐 ~ 
        window.addEventListener("load",function(){}); // <- 이거를 쓰는 이유는 여러개 작동 할 수 있어써 ~ 
        //[1] 전체 선택을 체크하면 개별항목을 변경
            var checkAllItems = document.querySelectorAll(".check-all");
                for(var i=0; i<checkAllItems.length; i++){
                    checkAllItems[i].addEventListener("input",function(e){
                        // this는 == 체크된 전체선택 체크박스 == e.target(함수안에(e))

                        var checkItems = document.querySelectorAll(".check-item");
                        for(var k=0; k < checkItems.length; k++){
                            checkItems[k].checked = this.checked;
                            
                        }
                        var checkAllItems = document.querySelectorAll(".check-all"); //밖에있는거 들여오면 어려워서 여기에 다시 
                        for(var k=0; k <checkAllItems.length; k++){
                            checkAllItems[k].checked = this.checked;
                          
                        }
                    });
                }
            
        //[2] 개별 항목을 선택하면 전체선택을 변경 
        var checkItems = document.querySelectorAll(".check-item");
        for(var i=0; i<checkItems.length; i++){
            checkItems[i].addEventListener("input", function(e){
                // this == 체크된 아이템 체크 박스 == e.target
                var countAll = document.querySelectorAll(".check-item").length; // 전체 아이템 개수 
                var countCheck = document.querySelectorAll(".check-item:checked").length; //체크되어 있는 개수 
                var allCheck = countAll == countCheck; // 둘이 같으면 전체 체크 

                var checkAllItems = document.querySelectorAll(".check-all");
                for(var k=0; k < checkAllItems.length; k++){
                    checkAllItems[k].checked = allCheck;
                }
            });
        }

        //[3] 구매버튼을 누르면 선택된 항목들의 값을 출력 
      
    </script>
</head>
<body>
  
   <!-- HTML 화면 -->
   <div class="container-400">
    <div class="row center">
        <h1>상품 구매</h1>
    </div>

    <div class="row">
        <label><input type="checkbox" class="check-all">전체선택</label>
    </div>
    <hr>

    <div class="row">
        <label><input type="checkbox" class="check-item" name="item" value="컴퓨터">컴퓨터</label><br>
        <label><input type="checkbox" class="check-item" name="item" value="모니터">모니터</label><br>
        <label><input type="checkbox" class="check-item" name="item" value="키보드">키보드</label><br>
        <label><input type="checkbox" class="check-item" name="item" value="마우스">마우스</label><br>
        <label><input type="checkbox" class="check-item" name="item" value="스피커">스피커</label><br>
    </div>
    
    <hr>
    <div class="row">
        <label><input type="checkbox" class="check-all"">전체선택</label>
    </div>

    <div class="row">
        <button class="btn btn-positive w-100 btn-purchase">구매</button>
    </div>


</div>
</body>